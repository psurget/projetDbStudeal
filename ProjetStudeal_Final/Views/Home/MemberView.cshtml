@model ProjetStudeal_Final.Models.Member

@{
    ViewData["Title"] = "View";
    string body = "";
    List<Tutoring> tuto = Model.Tutoring.Where(t => t.TutorId.Equals(Model.Id)).ToList();
}

<a asp-action="Index">Accueil</a>

<h2> Bienvenue @Model.FirstName </h2>
<div>
    <h4>Détails</h4>
    <pre>ID: @Model.Id</pre>
    <hr />
    <div class="dl-horizontal">
        <h2>@Model.LastName, @Model.FirstName</h2>
        <p><b>Utilisateur: </b>@Model.UserName</p>
        <p><b>Mot de passe: </b>@Model.Password</p>
        <h4><b>Est tuteur?</b>@(Model.IsTutor.Equals(1) ? "Oui" : "Non")</h4>
    </div>
    <div>
        @Html.ActionLink("Modifier mon profil ?", "MemberEdit", new { id = Model.Id })       
    </div>
</div>
<div>
    @{ 
        if (tuto.Count > 0)
        {
            <table>
                <thead>
                    <tr>
                        <th>Sujet</th>
                        <th>Date créée</th>
                    </tr>
                </thead>
                <tbody>

                @foreach (var t in tuto)
                {
                    List<TimeSlot> ts = t.TimeSlot.ToList();
                    <tr>
                        <td> t.Subject</td>
                        <td> @ts.Count() demandes. </td>
                    </tr>
                }                   
                </tbody>
            </table>
         }
     }
</div>
